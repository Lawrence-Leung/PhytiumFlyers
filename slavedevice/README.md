# slavedevice 仓库说明文档

## 概述

欢迎来到 `slavedevice` 仓库。此仓库是专门为队员创建，用于上传和同步在 Baremetal 与 FreeRTOS 上运行的程序源码。请仔细阅读以下指南，以确保正确和高效地使用此仓库。

## 重要须知

### 1. 仓库的克隆与同步

**非常重要：** 所有队员在使用仓库前，请确保先将整个仓库完整地克隆到本地某个目录下。请避免仅在需要上传文件时添加新文件。我们强烈建议通过命令行（Linux系统优先，Windows用户可下载Git并使用cmd或powershell）来同步和修改文件，而不是通过网页单独添加文件。在比赛过程中，请所有成员尽可能实时保持本地目录和仓库的同步。

### 2. initial与master分支
本仓库与`masterdevice`、`doc`不同，具有`initial`与`master`分支。

initial分支是推送后默认进入的分支，以展现仓库最新的更改。

而master分支的含义是“当前的稳定分支”，需要手动从initial分支中合并。

### 3. 仓库来源与结构

本仓库基于飞腾公司的 `phytium-freertos-sdk` 仓库改造。包含了 FreeRTOS SDK 的完整库文件、编译开发工具，以及完整的目录层次。**重要提示：** 队员自己编写的工程需要与整个 SDK 一同保存在仓库中。

### 4. 固有SDK文件

以下目录和文件属于 `phytium-freertos-sdk` 仓库下，由飞腾公司提供的固有SDK文件，请不要进行修改：

- 目录：`docs`、`drivers`、`example`、`scripts`、`third-party`、`tools`
- 根目录文件：`Kconfig`、`freertos.kconfig`、`requirements.txt`、`install.py`

### 5. 队员程序文件

队员编写的程序应新建在根目录下，例如：`FREERTOS-prjfiles` 目录。在该目录下，`template` 文件夹是一个示例模板工程。**注意事项：** 由于队员的工程需要引用本仓库中提供的 SDK 进行编译，因此在编写源代码和 makefile 等编译脚本时，需特别注意引用层次的关联。

## 附录

- Gitee 仓库的 Linux 命令行使用指南

---

## Gitee 仓库的 Linux 命令行使用指南

欢迎使用我们的 Gitee 仓库！为了更高效和安全地管理文件，我们建议您通过命令行而不是网页界面上传文件。以下是一些基本的命令行操作，帮助您开始使用我们的仓库：

### 1. 使用命令行而非GUI上传文件

虽然 Gitee 提供了网页上的“上传”按钮来上传文件，但我们建议您使用命令行来进行文件操作。这不仅可以提高效率，还可以更好地控制文件版本和更改历史。

### 2. 克隆仓库

在您开始使用之前，请首先将整个仓库克隆到您的本地目录中。这确保您拥有仓库的最新版本，并且所有文件都已同步。使用以下命令克隆仓库：

```bash
git clone <仓库URL>
```

将 `<仓库URL>` 替换为实际的仓库地址。

### 3. 将数据从远程端同步到本地

为了保持您本地仓库的数据更新，您需要定期从远程仓库同步数据。使用以下命令拉取最新更改：

```bash
git pull origin master
```

这将会从远程的 `master` 分支拉取最新更改到您的本地仓库。

### 4. 将更改推送到远程仓库

当您添加、更改或删除文件后，您需要将这些更改推送到远程仓库。请按照以下步骤操作：

1. **添加更改到暂存区**
   
   首先，使用 `git add` 命令将更改添加到暂存区：
   
   ```bash
   git add .
   ```
   
   这会添加所有更改。如果您只想添加特定文件，可以将 `.` 替换为文件名。

2. **提交更改**
   
   接着，使用 `git commit` 命令提交这些更改：
   
   ```bash
   git commit -m "提交信息"
   ```
   
   将 `"提交信息"` 替换为描述您更改的信息。

3. **推送到远程仓库**
   
   最后，使用 `git push` 命令将提交的更改推送到远程仓库：
   
   ```bash
   git push origin master
   ```
   
   这会将您的更改推送到远程的 `master` 分支。

遵循以上步骤可以确保您有效地使用我们的 Gitee 仓库。

### 5. 从`initial`分支更改合并到`master`分支：

要将一个分支（例如 `initial` 分支）的更改合并到另一个分支（例如 `master` 分支）中，并将其推送到远程仓库，你可以按照以下步骤操作：

1. **切换到目标分支：** 首先，确保你当前所在的分支是目标分支（例如 `master` 分支）。如果不是，请切换到目标分支：
   
   ```bash
   git checkout master
   ```

2. **合并分支：** 然后，执行合并操作将 `initial` 分支的更改合并到 `master` 分支中：
   
   ```bash
   git merge initial
   ```
   
   这将把 `initial` 分支的更改合并到当前分支（即 `master` 分支）中。

3. **解决合并冲突（如果有）：** 如果合并操作引发了合并冲突，你需要解决这些冲突。在解决冲突后，继续下一步操作。

4. **推送更改到远程仓库：** 最后，执行推送操作将 `master` 分支的更改推送到远程仓库：
   
   ```bash
   git push origin master
   ```
   
   这将把 `master` 分支的更改推送到远程仓库中。

通过执行以上步骤，你将成功将 `initial` 分支的更改合并到 `master` 分支中，并将其推送到远程仓库。
